<div class="dialog-container">

    <h2 mat-dialog-title class="modal-title">{{epicHeader}}</h2>

    <form [formGroup]="epicForm" (ngSubmit)="onSave()">
        <mat-dialog-content class="modal-content">

            <!-- Epic Title -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Epic Title</mat-label>
                <input matInput formControlName="title" placeholder="e.g. Authentication Module" />
                <mat-error *ngIf="epicForm.get('title')?.hasError('required')">
                    Epic title is required
                </mat-error>
            </mat-form-field>

            <!-- Description -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Description</mat-label>
                <textarea matInput formControlName="description"
                    placeholder="Describe the goal of this epic"></textarea>
            </mat-form-field>

            <!-- Start Date -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Start Date </mat-label>
                <input matInput [min]="minDate" [matDatepicker]="startPicker" formControlName="startDate"
                    placeholder="Pick a date" />
                <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                <mat-datepicker #startPicker color="accent"></mat-datepicker>
                <mat-error *ngIf="epicForm.get('startDate')?.hasError('required')">
                    Start date is required
                </mat-error>
            </mat-form-field>

            <!-- End Date -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>End Date </mat-label>
                <input matInput [min]="minEndDate" [matDatepicker]="endPicker" formControlName="endDate"
                    placeholder="Pick a date" />
                <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                <mat-datepicker #endPicker color="accent"></mat-datepicker>
                <mat-error *ngIf="epicForm.get('endDate')?.hasError('required')">
                    End date is required
                </mat-error>

            </mat-form-field>

            <!-- Status -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Status</mat-label>
                <mat-select formControlName="status">
                    <!-- (selectionChange)="onStatusChange(subtask)" -->
                    <mat-option value="todo">To Do</mat-option>
                    <mat-option value="in-progress">In Progress</mat-option>
                    <mat-option value="done">Done</mat-option>
                </mat-select>
            </mat-form-field>


        </mat-dialog-content>

        <mat-dialog-actions align="end" class="modal-actions">
            <button mat-button type="button" (click)="onCancel()" class="cancel-button">Cancel</button>
            <button mat-flat-button color="primary" type="submit" class="save-button" [disabled]="epicForm.invalid">
                Save
            </button>
        </mat-dialog-actions>
    </form>
</div>